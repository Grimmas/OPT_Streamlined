//Buff all cockpit intakes
@PART[b_cockpit_qs,j_cockpit_qs,j_6m_cockpit]:FOR[OPT_Reconfig]
{
	@RESOURCE[IntakeAir]
	{
		@amount = 5
		@maxAmount = 5
	}
	+MODULE[ModuleResourceIntake]:NEEDS[CommunityResourcePack]
	{
		@resourceName = IntakeAtm
		%checkForOxygen = false
	}
	%RESOURCE[IntakeAtm]:NEEDS[CommunityResourcePack]
	{
		%amount = 5
		%maxAmount = 5
	}
}
@PART[k_10m_cockpit,k_10m_cockpit_legacy,k_10m_cockpit_custom]:FOR[OPT_Reconfig]
{
	@RESOURCE[IntakeAir]
	{
		@amount = 6
		@maxAmount = 6
	}
	+MODULE[ModuleResourceIntake]:NEEDS[CommunityResourcePack]
	{
		@resourceName = IntakeAtm
		%checkForOxygen = false
	}
	%RESOURCE[IntakeAtm]:NEEDS[CommunityResourcePack]
	{
		%amount = 6
		%maxAmount = 6
	}
}
@PART[l_8m_cockpit]:FOR[OPT_Reconfig]
{
	+MODULE[ModuleResourceIntake]:NEEDS[CommunityResourcePack]
	{
		@resourceName = IntakeAtm
		%checkForOxygen = false
	}
	%RESOURCE[IntakeAtm]:NEEDS[CommunityResourcePack]
	{
		%amount = 7
		%maxAmount = 7
	}
}

// Stack intakes
@PART[mk2_ramIntake|opt_s2intake]:NEEDS[CommunityResourcePack]:FOR[OPT_Reconfig]
{
	+MODULE[ModuleResourceIntake]
	{
		@resourceName = IntakeAtm
		%checkForOxygen = false
	}
	+RESOURCE[IntakeAir]
	{
		@name = IntakeAtm
	}
}

@PART[opt_vtol_rudder*]:NEEDS[CommunityResourcePack,!ClassicStock]
{
	@MODULE[ModuleEnginesFX]:HAS[#engineID[FanElectric]]
	{
		@PROPELLANT[IntakeAir]
		{
			@name = IntakeAtm
			DrawGauge = True
		}
	}
	@MODULE[ModuleRCSFX]
	{
		@resourceName = IntakeAtm
	}
}
@PART[opt_vtol_heli*|opt_vtol_lpj1]:NEEDS[CommunityResourcePack,!ClassicStock]
{
	@MODULE[ModuleEnginesFX]:HAS[#engineID[FanElectric]]
	{
		@PROPELLANT[IntakeAir]
		{
			@name = IntakeAtm
			DrawGauge = True
		}
	}
}



//Add IntakeAtm to all intakes if Mk2 Expansion is not installed as Mk2 Expansion will also do this
@PART:HAS[@RESOURCE[IntakeAir],!RESOURCE[IntakeAtm]]:NEEDS[CommunityResourcePack]:FOR[OPT_Reconfig]
{
	+MODULE[ModuleResourceIntake]:HAS[#resourceName[IntakeAir]]
	{
		@resourceName = IntakeAtm
		%checkForOxygen = false
	}
	+RESOURCE[IntakeAir]
	{
		@name = IntakeAtm
	}
}

@PART[opt_sage]:NEEDS[CommunityResourcePack]
{
	@MODULE[ModuleEnginesFX]
	{
		@PROPELLANT[IntakeAir]
		{
			@name = IntakeAtm
		}
	}
}

@PART[opt_surge]:NEEDS[CommunityResourcePack]
{
	@RESOURCE[IntakeAtm]
	{
		@maxAmount = 400
	}
	@MODULE[ModuleEnginesFX]
	{
		@PROPELLANT[IntakeAir]
		{
			@name = IntakeAtm
		}
	}
}

@PART[opt_vtol_wrap?2|opt_vtol_jumpa2]:NEEDS[CommunityResourcePack]
{
	@MODULE[ModuleEnginesFX],*
	{
		@PROPELLANT[IntakeAir]
		{
			@name = IntakeAtm
		}
	}
	@RESOURCE[IntakeAtm]
	{
		@amount *= 10
		@maxAmount *= 10
	}
}